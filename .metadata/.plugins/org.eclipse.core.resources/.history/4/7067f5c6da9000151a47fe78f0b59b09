#!/usr/bin/python
#coding=utf-8
'''
Created on 2015-11-22
@author: ymy
'''


import hashlib,os

ALGO = 'md5'

def getfiles(base):
    #print os.listdir(base)
    #result = []
    for filename in os.listdir(base):
        filepath = os.path.join(base, filename)
        #print filepath
        #st = os.stat(filepath)
        yield filepath
     
def get_hash(filepath):
    h = getattr(hashlib, ALGO)()
    with open(filepath, 'rb') as fi:
        h.update(fi.read())
    return h.hexdigest()
    
       
def main():
    source = getfiles('/home/ymy/python')
    get_hash(source)
    
    
    
if __name__ == '__main__':
    main()